# versioned registry of connector TYPES & CAPABILITIES (not full recipes)
# - validator uses this to check: supported types, allowed engines, cloud mode, incremental support
# - connector recipes contain: engine configs, credentials, rate limits, connection templates

version: 2

sources:
  hubspot:
    category: crm
    default_engine: airbyte
    engines_supported: [airbyte, singer, native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: updated_after
    objects_supported: ["contacts", "deals", "companies"]

  stripe:
    category: payments
    default_engine: airbyte
    engines_supported: [airbyte, singer, native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: created
    objects_supported: ["charges", "customers", "invoices"]

  gdrive_csv:
    category: files
    default_engine: native
    engines_supported: [native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: file_modified_time
    objects_supported: ["file"]

  csv:
    category: files
    default_engine: native
    engines_supported: [native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: file_modified_time
    objects_supported: ["file"]

  markdown_kv:
    category: files
    default_engine: native
    engines_supported: [native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: file_modified_time
    objects_supported: ["file"]

  google_sheets:
    category: files
    default_engine: native
    engines_supported: [native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: spreadsheet_modified_time
    objects_supported: ["sheet"]

  postgres:
    category: database
    default_engine: meltano
    engines_supported: [meltano, airbyte, jdbc]
    allowed_in_cloud: false                            # blocked in SaaS
    supports_incremental: true
    incremental_strategy_default: updated_at
    requires_tables: true
    supports_queries: true

  mysql:
    category: database
    default_engine: meltano
    engines_supported: [meltano, airbyte, jdbc]
    allowed_in_cloud: false
    supports_incremental: true
    incremental_strategy_default: updated_at
    requires_tables: true
    supports_queries: true

targets:
  iceberg:
    default_engine: native
    engines_supported: [native, spark]
    file_formats: [parquet, markdown_kv]  # markdown_kv stored as STRING in Parquet
    supports_schema_evolution: true

  s3:
    default_engine: native
    engines_supported: [native]

  minio:
    default_engine: native
    engines_supported: [native]

  azure_blob:
    default_engine: native
    engines_supported: [native]

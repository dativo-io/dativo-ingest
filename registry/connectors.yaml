# versioned registry of connector TYPES & CAPABILITIES (not full recipes)
# - validator uses this to check: supported types, allowed engines, cloud mode, incremental support
# - connector recipes contain: engine configs, credentials, rate limits, connection templates
# - roles: [source] = source only, [target] = target only, [source, target] = bidirectional

version: 3

connectors:
  hubspot:
    roles: [source]  # Source only - API connector
    category: crm
    default_engine: airbyte
    engines_supported: [airbyte, singer, native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: updated_after
    objects_supported: ["contacts", "deals", "companies"]

  stripe:
    roles: [source]  # Source only - API connector
    category: payments
    default_engine: airbyte
    engines_supported: [airbyte, singer, native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: created
    objects_supported: ["charges", "customers", "invoices"]

  gdrive_csv:
    roles: [source]  # Source only - file reading
    category: files
    default_engine: native
    engines_supported: [native, airbyte, meltano]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: file_modified_time
    objects_supported: ["file"]

  csv:
    roles: [source, target]  # Bidirectional - can read and write CSV
    category: files
    default_engine: native
    engines_supported: [native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: file_modified_time
    objects_supported: ["file"]

  markdown_kv:
    roles: [source, target]  # Bidirectional - can read and write Markdown-KV files
    category: files
    default_engine: native
    engines_supported: [native]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: file_modified_time
    objects_supported: ["file"]

  google_sheets:
    roles: [source, target]  # Bidirectional - can read and write Google Sheets
    category: files
    default_engine: native
    engines_supported: [native, airbyte, meltano]
    allowed_in_cloud: true
    supports_incremental: true
    incremental_strategy_default: spreadsheet_modified_time
    objects_supported: ["sheet"]

  postgres:
    roles: [source, target]  # Bidirectional - can read and write PostgreSQL
    category: database
    default_engine: meltano
    engines_supported: [meltano, airbyte, jdbc]
    allowed_in_cloud: false                            # blocked in SaaS
    supports_incremental: true
    incremental_strategy_default: updated_at
    requires_tables: true
    supports_queries: true

  mysql:
    roles: [source, target]  # Bidirectional - can read and write MySQL
    category: database
    default_engine: meltano
    engines_supported: [meltano, airbyte, jdbc]
    allowed_in_cloud: false
    supports_incremental: true
    incremental_strategy_default: updated_at
    requires_tables: true
    supports_queries: true

  iceberg:
    roles: [target]  # Target only - data lake format
    default_engine: native
    engines_supported: [native, spark]
    file_formats: [parquet, markdown_kv]  # markdown_kv stored as STRING in Parquet
    supports_schema_evolution: true

  s3:
    roles: [source, target]  # Bidirectional - can read and write from S3
    default_engine: native
    engines_supported: [native]

  minio:
    roles: [source, target]  # Bidirectional - can read and write from MinIO
    default_engine: native
    engines_supported: [native]

  azure_blob:
    roles: [source, target]  # Bidirectional - can read and write from Azure Blob
    default_engine: native
    engines_supported: [native]

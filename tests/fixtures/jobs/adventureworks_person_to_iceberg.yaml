# Example job configuration for AdventureWorks Person dataset
# This job demonstrates CSV to Iceberg ingestion
# Generated for smoke test reference

tenant_id: test_tenant
environment: test

# Source connector
source_connector: csv
source_connector_path: connectors/csv.yaml

# Target connector
target_connector: iceberg
target_connector_path: connectors/iceberg.yaml

# Asset definition
asset: csv_person
asset_path: tests/fixtures/specs/csv/v1.0/person.yaml

# Source configuration - specify which CSV file to ingest
source:
  files:
    - path: tests/fixtures/seeds/adventureworks/Person.csv
      object: Person

# Target configuration - Iceberg table configuration
# Note: No catalog configured - Parquet files will be written directly to S3
target:
  # branch: test_tenant  # Not needed without catalog
  # warehouse: s3://test-lake/adventureworks/  # Not needed without catalog
  connection:
    s3:
      endpoint: "${S3_ENDPOINT}"
      bucket: test-bucket
      access_key_id: "${AWS_ACCESS_KEY_ID}"
      secret_access_key: "${AWS_SECRET_ACCESS_KEY}"
      region: "${AWS_REGION}"
      path_style_access: true

# Logging configuration
logging:
  redaction: false
  level: INFO


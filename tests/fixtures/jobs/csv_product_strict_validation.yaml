# CSV Product to MinIO job for smoke tests - Strict validation mode
# This job should FAIL because the CSV contains invalid data (null in required fields)
tenant_id: test_tenant
environment: test

# Source connector
source_connector: csv
source_connector_path: connectors/csv.yaml

# Target connector
target_connector: minio
target_connector_path: connectors/minio.yaml

# Asset definition
asset: csv_product
asset_path: tests/fixtures/assets/csv/v1.0/product.yaml

# Source configuration - using invalid CSV with nulls in required fields
source:
  files:
    - path: tests/fixtures/seeds/adventureworks/Product_invalid.csv
      object: Product

# Target configuration
target:
  connection:
    endpoint: "${MINIO_ENDPOINT}"
    bucket: test-bucket
    prefix: raw/csv/product_strict
    access_key_id: "${MINIO_ACCESS_KEY}"
    secret_access_key: "${MINIO_SECRET_KEY}"
    secure: false
    path_style_access: true

# Schema validation mode - STRICT (should fail on validation errors)
schema_validation_mode: strict

# Logging configuration
logging:
  redaction: false
  level: INFO

